(window.webpackJsonp=window.webpackJsonp||[]).push([[14,4],{621:function(e,t,r){"use strict";r.r(t);r(111),r(63);var n=r(2).default.extend({data:function(){return{}},computed:{allKrates:function(){return this.$store.getters["krates/getAllKrates"]}},methods:{setSelectedKrate:function(e){this.$store.commit("krates/setSelectedKrate",e),this.$router.push("/dashboard/krate/details")},numberOfDays:function(e){var t=Date.now(),r=Math.round((t-e)/864e5);return 0===r?"0d ago":"".concat(r,"d ago")},truncatedKrateName:function(e){return"".concat(null==e?void 0:e.slice(0,15)).concat((null==e?void 0:e.length)>15?"..":"")}}}),o=r(1),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"max-w-5xl mx-auto px-4 my-12"},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.allKrates.length>0,expression:"allKrates.length > 0"}],staticClass:"grid md:grid-cols-3 grid-cols-auto sm:grid-cols-2 gap-8 md:gap-10"},e._l(e.allKrates,(function(t){return r("div",{key:t.krateId,staticClass:"cursor-pointer",on:{click:function(r){return e.setSelectedKrate(t)}}},[r("zi-fieldset",{staticClass:"text-accent8 hover:drop-shadow-xl",scopedSlots:e._u([{key:"footer",fn:function(){return[r("p",{staticClass:"h-6"}),e._v(" "),r("span",[t.apiKey?r("zi-tooltip",{attrs:{content:"Protected Krate",placement:"left"}},[r("zi-dot",{staticClass:"border rounded-full p-1 border-blue-500",attrs:{type:"success"}})],1):r("zi-tooltip",{attrs:{content:"Public Krate",placement:"left"}},[r("zi-dot",{staticClass:"border rounded-full p-1 border-yellow-400",attrs:{type:"warning"}})],1)],1)]},proxy:!0}],null,!0)},[r("span",{staticClass:"text-lg font-semibold"},[e._v(e._s(e.truncatedKrateName(t.krateName)))]),e._v(" "),r("span",{staticClass:"\n            text-sm\n            float-right\n            border border-accent2\n            py-1\n            px-2\n            rounded-md\n          "},[e._v("\n          "+e._s(e.numberOfDays(t.createdAt)))]),e._v(" "),r("zi-snippet",{staticClass:"mt-8 mb-4",attrs:{copy:!1,text:t.krateId,type:"lite"}})],1)],1)})),0),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.allKrates.length<1,expression:"allKrates.length < 1"}],staticClass:"max-w-5xl mx-auto my-24"},[r("coffee-icon",{staticClass:"h-12 w-12 mx-auto"}),e._v(" "),r("p",{staticClass:"text-center font-semibold"},[e._v("No Krates found")])],1)])}),[],!1,null,null,null);t.default=component.exports},666:function(e,t,r){"use strict";r.r(t);var n=r(12),o=(r(62),r(326),r(41),r(57),r(207),r(83),r(30),r(113),r(631),r(633),r(638),r(640),r(641),r(642),r(645),r(646),r(647),r(648),r(649),r(650),r(651),r(652),r(654),r(655),r(656),r(657),r(658),r(659),r(660),r(661),r(662),r(663),r(664),r(2)),l=r(197),c=o.default.extend({layout:"dashboard",data:function(){return{plusCircle:l.a,addKratedialog:!1,customKrateToggle:!1,protectedKrateToggle:!1,newKrateId:"",newKrateName:"",newKrateApiKey:"",inputError:{name:"primary",krate:"primary",apiKey:"primary"}}},methods:{openNewKrateDialog:function(){this.addKratedialog=!this.addKratedialog,this.newKrateId=this.generateKrateId(),this.newKrateApiKey=this.generateApiKey()},createNewKrate:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.newKrateName.trim()){t.next=2;break}return t.abrupt("return",e.inputError.name="danger");case 2:if(20===e.newKrateId.trim().length&&e.newKrateId.trim().match(/^[a-zA-Z0-9]+$/)){t.next=4;break}return t.abrupt("return",e.inputError.krate="danger");case 4:if(!(e.newKrateApiKey.trim().length<36)&&e.newKrateApiKey.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$")){t.next=6;break}return t.abrupt("return",e.inputError.apiKey="danger");case 6:return t.prev=6,t.next=9,e.$store.dispatch("krates/createNewKrate",{krateId:e.newKrateId,krateName:e.newKrateName,apiKey:e.protectedKrateToggle?e.newKrateApiKey:null});case 9:e.customKrateToggle=!1,e.protectedKrateToggle=!1,e.newKrateName="",e.newKrateApiKey="",e.addKratedialog=!e.addKratedialog,t.next=20;break;case 16:t.prev=16,t.t0=t.catch(6),e.$Toast.show({type:"danger",text:(null===(n=null===(r=null===t.t0||void 0===t.t0?void 0:t.t0.response)||void 0===r?void 0:r.data)||void 0===n?void 0:n.message)||t.t0,duration:5e3});case 20:case"end":return t.stop()}}),t,null,[[6,16]])})))()},generateKrateId:function(){var e=(new Date).getTime();return"xxyxxxxxxyxxxxxyxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)})).toString()},generateApiKey:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}}}),d=r(1),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"border-b border-accent2"},[r("div",{staticClass:"mx-auto max-w-5xl pt-8 pb-12 text-center"},[r("package-icon",{staticClass:"h-20 w-20 align-center block mx-auto mb-6"}),e._v(" "),r("zi-button",{staticClass:"inline-block",attrs:{icon:e.plusCircle,shadow:"",size:"big",type:"success"},on:{click:e.openNewKrateDialog}},[e._v("Add Krate")]),e._v(" "),r("zi-dialog",{attrs:{closeByModal:!1,beforeDone:e.createNewKrate},model:{value:e.addKratedialog,callback:function(t){e.addKratedialog=t},expression:"addKratedialog"}},[r("zi-card",[r("h4",{staticClass:"pb-6"},[e._v("Add Krate")]),e._v(" "),r("div",{staticClass:"-mt-4"},[r("zi-input",{staticClass:"w-full mb-4",attrs:{"prefix-label":"Krate Name",autofocus:"true",type:e.inputError.name,placeholder:"danger"===e.inputError.name?"Name is required":""},model:{value:e.newKrateName,callback:function(t){e.newKrateName=t},expression:"newKrateName"}})],1),e._v(" "),r("div",{staticClass:"flex flex-row flex-grow mt-4 mb-2"},[r("div",{staticClass:"font-medium mr-4 flex-grow"},[r("zi-tag",[e._v(" Custom ID")])],1),e._v(" "),r("div",[r("zi-toggle",{staticClass:"ml-4",model:{value:e.customKrateToggle,callback:function(t){e.customKrateToggle=t},expression:"customKrateToggle"}})],1)]),e._v(" "),r("div",[r("zi-input",{staticClass:"w-full",attrs:{"prefix-label":"krat.es/",disabled:!e.customKrateToggle,autofocus:"true",type:e.inputError.krate,placeholder:"danger"===e.inputError.krate?"Krate ID is invalid":""},model:{value:e.newKrateId,callback:function(t){e.newKrateId=t},expression:"newKrateId"}})],1),e._v(" "),r("div",{staticClass:"flex flex-row flex-grow mt-6 mb-2"},[r("div",{staticClass:"font-medium mr-4 flex-grow"},[r("div",{staticClass:"flex flex-row"},[r("zi-tag",[e._v(" Protected Krate")]),e._v(" "),r("zi-link",{staticClass:"m-1 ml-2",attrs:{href:"//docs.krat.es/concepts/protected-krate/",pure:""}},[r("question-circle-icon")],1)],1)]),e._v(" "),r("div",[r("zi-toggle",{staticClass:"ml-4",model:{value:e.protectedKrateToggle,callback:function(t){e.protectedKrateToggle=t},expression:"protectedKrateToggle"}})],1)]),e._v(" "),r("div",[r("zi-input",{staticClass:"w-full",attrs:{disabled:!e.protectedKrateToggle,autofocus:"true",type:e.inputError.apiKey,placeholder:"danger"===e.inputError.apiKey?"API key is invalid":""},model:{value:e.newKrateApiKey,callback:function(t){e.newKrateApiKey=t},expression:"newKrateApiKey"}})],1)])],1)],1)]),e._v(" "),r("DashboardAllKrates")],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{DashboardAllKrates:r(621).default})}}]);